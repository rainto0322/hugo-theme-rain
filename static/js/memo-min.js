window.Memo={$:function(e){return this.el?.querySelector(e)},c:(e,t)=>{const i=document.createElement(e);return i.className=t,i},t:e=>{const t=new Date(e),i=e=>String(e).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())} ${i(t.getHours())}:${i(t.getMinutes())}`},f:async function(){const{ok:e,data:t,max:i}=await fetch(`${this.api}/memo/li/${this.cpage}/10`).then((e=>e.json()));e||setTimeout((()=>{this.el.innerHTML="•︡ᯅ•︠ Unable connect to radio waves."}),2e3),this.r(t,i)},r:async function(e,t){var i=this;const n=document.createDocumentFragment();for(const t of e){let{text:e,img:a,date:r}=t;const o=i.c("div","m-item"),c=i.c("div","m-cont"),s=i.c("time","m-date"),m=i.c("ul","view-box");s.dateTime=r,s.innerText=i.t(r);const d=(new DOMParser).parseFromString(e.replace(/\n/g,"<br>"),"text/html").body.innerHTML;c.innerHTML=d;for(const e of a){const t=i.c("li",""),n=i.c("img");n.src=`https://raw.gitcode.com/rainto/Album/raw/main/daily/${e}.png`,m.setAttribute("view-image",""),t.appendChild(n),m.appendChild(t)}o.appendChild(m),o.appendChild(c),o.appendChild(s),n.appendChild(o)}const a=i.el.querySelector("#m-more");if(i.cpage+1<t){const e=i.c("div");e.textContent="ʕ•ᴥ•ʔ Click me to load more.",e.onclick=()=>{a.innerHTML=i.img,i.loadMore()},a.innerHTML="",a.appendChild(e)}else a.innerHTML="૮₍•́₃•̀₎ა Really not a drop left.";this.el.querySelector("#m-cont").appendChild(n),this.view||(ViewImage.init(),this.view=!0)},init:async function({el:e="#memo",api:t,img:i}){Object.assign(this,{el:document.querySelector(e),api:t,img:i?`<img src="${i}">`:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="30px" fill="#333"><rect x="0" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animate></rect></svg>',cpage:0}),this.el.innerHTML='<div id="m-cont"></div><div id="m-more" style="text-align:center;padding:2em;cursor:pointer"></div>',this.$("#m-more").innerHTML=this.img,this.f()},loadMore:function(){this.cpage+=1,this.f()}};