(async()=>{const e=e=>document.getElementById(e),t=e=>document.createElement(e),n=await(async()=>{const e=await fetch(document.currentScript.getAttribute("path"));return await e.json()})(),s=(e,t)=>{e.appendChild(t)};if(!n)return;const c=e("s-res");e("s-txt").focus(),e("s-txt").oninput=r=>{c.innerHTML="";const a=r.target.value.trim().split(/[\s\-]+/);if(!a[0])return;e("s-res").innerHTML="";const o=document.createDocumentFragment();n.forEach((e=>{var n=e.title.trim(),c=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),r=-1,i=-1;for(const d of a){if(r=n.indexOf(d),i=c.indexOf(d),r<0&&i<0)return;const a=new RegExp(`(${d})`,"gi"),l='<span class="s-key">$1</span>',u=n.replace(a,l),p=c.substring(i-10,i+50).replace(a,l),m=t("a"),f=t("span"),w=t("span");m.href=e.link,m.className="s-item",f.innerHTML=u,w.innerHTML=p+"...",f.className="s-title",w.className="s-cont",s(m,f),s(m,w),s(o,m)}})),s(c,o);var i=0;let d=c.childNodes.length;window.addEventListener("keydown",(t=>{"ArrowDown"===t.code&&(i<d?i++:i=1,c.childNodes[i-1].focus()),"ArrowUp"===t.code&&(i>1?i--:i=d,c.childNodes[i-1].focus()),"Escape"===t.code&&e("s-txt").focus()}))}})();